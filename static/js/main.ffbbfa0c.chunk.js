(this["webpackJsonpwe-scribe"]=this["webpackJsonpwe-scribe"]||[]).push([[0],{85:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){},98:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(16),i=n.n(c),s=n(8),o=n(13),l=n(45),d=n(32),u=n(46),b=n.n(u),j=n(47),m=n.n(j),h="AUTH_START",p="AUTH_SUCCESS",f="AUTH_FAIL",O="AUTH_LOGOUT",x=n(11),g=function(e,t){return Object(x.a)(Object(x.a)({},e),t)},v={token:null,error:null,loading:!1,isAuthenticated:!1,username:null},w=function(e,t){return g(e,{error:null,loading:!0})},y=function(e,t){return g(e,{token:t.token,error:null,loading:!1,isAuthenticated:!0,username:t.username})},S=function(e,t){return g(e,{error:t.error,loading:!1})},k=function(e,t){return g(e,{token:null,isAuthenticated:!1,username:null})},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return w(e);case p:return y(e,t);case f:return S(e,t);case O:return k(e);default:return e}},A=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.d,_={key:"root",storage:m.a,stateReconciler:b.a},T=Object(d.a)(_,N),F=Object(o.e)(T,A(Object(o.a)(l.a))),C=Object(d.b)(F),W=F,E=n(48),I=n(14),D=n(22),L=n.n(D),U=function(){return{type:h}},H=function(e){return{type:p,token:e.token,username:e.username}},R=function(e){return{type:f,error:e}},P=function(){return localStorage.removeItem("expirationDate"),{type:O}},z=function(e){return function(t){setTimeout((function(){t(P())}),1e3*e)}},V=(n(85),n(4)),B=n.p+"static/media/illustration.27f2f4eb.png",M=(n(42),n(1));var J=Object(s.b)((function(e){return{isAuthenticated:e.isAuthenticated,username:e.username}}))((function(e){var t=e.isAuthenticated;return Object(M.jsx)("div",{class:"container px-4",style:{marginTop:"19vh"},children:Object(M.jsxs)("div",{class:"row flex-lg-row-reverse align-items-left g-5",children:[Object(M.jsx)("div",{class:"col-10 col-sm-8 col-lg-6",children:Object(M.jsx)("img",{src:B,class:"d-block mt-n5 mx-5 img-fluid",alt:"Collaborate",loading:"lazy",width:"700",height:"500"})}),Object(M.jsxs)("div",{class:"col-lg-6",children:[Object(M.jsx)("h1",{class:"display-5 fw-bold lh-1 mb-3 text-justify",children:"WeScribe"}),Object(M.jsxs)("p",{class:"lead text-justify",children:[" ","Platform for real-time collaborative notes making using a whiteboard or text editor, while attending live lectures or watching youtube videos."]}),Object(M.jsx)("div",{class:"d-grid gap-2 d-md-flex justify-content-md-start",children:t?[Object(M.jsx)("a",{href:"/WeScribe_Frontend/notes",type:"button",class:"btn btn-outline-primary btn-lg px-4 me-md-2",children:"View your Notes"})]:[Object(M.jsxs)("div",{children:[Object(M.jsx)("a",{href:"/WeScribe_Frontend/login",type:"button",class:"btn btn-outline-primary btn-lg px-4 me-md-2",children:"Sign In"}),Object(M.jsx)("label",{style:{color:"transparent"},children:"......."}),Object(M.jsx)("a",{href:"/WeScribe_Frontend/board",type:"button",class:"btn btn-outline-secondary btn-lg px-4 me-md-2",children:"Try a Demo Now!"}),Object(M.jsx)("p",{class:"text-muted",style:{fontSize:"0.8em",marginRight:"55%"},children:"*Sign in to save your notes"})]})]})]})]})})})),K=n(21),q=n(18),G=function(e){try{if(!e.response)return"Error: Network Error";if(e.response.data){var t=e.response.data;if(t.detail)return"Invalid token."===t.detail?"Invalid Token. Please re-login.":t.detail;if(t[0])return t[0];var n=Object.keys(t)[0],r=t[n][0];if(["non_field_errors","detail"].indexOf(n)>=0)return r;var a=String(n).replace("_"," ");return a.charAt(0).toUpperCase()+a.substring(1)+": "+r}}catch(e){return console.log(e),"Something wrong happened. Please report this."}};var Q=Object(s.b)((function(e){return{loading:e.loading,error:e.error,isAuthenticated:e.isAuthenticated}}),(function(e){return{onAuth:function(t,n,r,a,c){return e(function(e,t,n,r,a){return function(c){c(U()),L.a.post("https://wescribe-backend.herokuapp.com/register/",{first_name:e,last_name:t,username:n,email:r,password:a}).then((function(e){var t={token:e.data.token,username:JSON.parse(e.config.data).username},n=new Date((new Date).getTime()+36e5);localStorage.setItem("expirationDate",n),c(H(t)),c(z(3600))})).catch((function(e){c(R(e))}))}}(t,n,r,a,c))}}}))((function(e){var t=Object(r.useState)({firstname:"",lastname:"",username:"",email:"",password:""}),n=Object(q.a)(t,2),a=n[0],c=n[1],i=function(e){var t=e.target,n=t.id,r=t.value;c((function(e){return Object(x.a)(Object(x.a)({},e),{},Object(K.a)({},n,r))}))};e.isAuthenticated&&e.history.push("/WeScribe_Frontend/board");var s=null;return e.error&&(s=Object(M.jsx)("p",{children:G(e.error)})),Object(M.jsxs)("div",{children:[Object(M.jsx)("div",{style:{color:"red"},children:s}),Object(M.jsx)("div",{className:"outer",children:Object(M.jsx)("div",{className:"inner",children:Object(M.jsxs)("form",{name:"register",children:[Object(M.jsx)("h3",{children:"Register"}),Object(M.jsxs)("div",{className:"form-group",children:[Object(M.jsx)("label",{children:"First name"}),Object(M.jsx)("input",{type:"text",className:"form-control",id:"firstname",placeholder:"Firstname",value:a.firstname,onChange:i})]}),Object(M.jsxs)("div",{className:"form-group",children:[Object(M.jsx)("label",{children:"Last name"}),Object(M.jsx)("input",{type:"text",className:"form-control",id:"lastname",placeholder:"Lastname",value:a.lastname,onChange:i})]}),Object(M.jsxs)("div",{className:"form-group",children:[Object(M.jsx)("label",{children:"Username"}),Object(M.jsx)("input",{type:"text",className:"form-control",id:"username",placeholder:"Username",value:a.username,onChange:i})]}),Object(M.jsxs)("div",{className:"form-group",children:[Object(M.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Email address"}),Object(M.jsx)("input",{type:"email",className:"form-control",id:"email",placeholder:"Enter email",value:a.email,onChange:i})]}),Object(M.jsxs)("div",{className:"form-group",children:[Object(M.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Password"}),Object(M.jsx)("input",{type:"password",className:"form-control",id:"password",placeholder:"Password",value:a.password,onChange:i})]}),Object(M.jsx)("button",{type:"submit",className:"btn btn-dark btn-lg btn-block",onClick:function(t){t.preventDefault(),e.onAuth(a.firstname,a.lastname,a.username,a.email,a.password)},children:"Register"}),Object(M.jsxs)("div",{className:"forgot-password text-right",children:["Already registered?"," ",Object(M.jsx)("a",{href:"/WeScribe_Frontend/login",children:" Sign In"})]})]})})})]})}));var X=Object(s.b)((function(e){return{error:e.error,isAuthenticated:e.isAuthenticated}}),(function(e){return{onAuth:function(t,n){return e(function(e,t){return function(n){n(U()),L.a.post("https://wescribe-backend.herokuapp.com/rest-auth/login/",{username:e,password:t}).then((function(e){var t={token:e.data.key,username:JSON.parse(e.config.data).username},r=new Date((new Date).getTime()+36e5);localStorage.setItem("expirationDate",r),n(H(t)),n(z(3600))})).catch((function(e){n(R(e))}))}}(t,n))}}}))((function(e){var t=Object(r.useState)({username:"",password:""}),n=Object(q.a)(t,2),a=n[0],c=n[1],i=function(e){var t=e.target,n=t.id,r=t.value;c((function(e){return Object(x.a)(Object(x.a)({},e),{},Object(K.a)({},n,r))}))};e.isAuthenticated&&e.history.push("/WeScribe_Frontend/board");var s=null;return e.error&&(s=Object(M.jsx)("p",{children:G(e.error)})),Object(M.jsxs)("div",{children:[Object(M.jsx)("div",{style:{color:"red"},children:s}),Object(M.jsx)("div",{className:"outer",children:Object(M.jsx)("div",{className:"inner",children:Object(M.jsxs)("form",{name:"login",children:[Object(M.jsx)("h3",{children:"Login"}),Object(M.jsxs)("div",{className:"form-group",children:[Object(M.jsx)("label",{children:"Username"}),Object(M.jsx)("input",{type:"text",className:"form-control",id:"username",placeholder:"Username",value:a.username,onChange:i})]}),Object(M.jsxs)("div",{className:"form-group",children:[Object(M.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Password"}),Object(M.jsx)("input",{type:"password",className:"form-control",id:"password",placeholder:"Password",value:a.password,onChange:i})]}),Object(M.jsx)("button",{type:"submit",className:"btn btn-dark btn-lg btn-block",onClick:function(t){t.preventDefault(),e.onAuth(a.username,a.password)},children:"Sign in"}),Object(M.jsxs)("div",{className:"forgot-password text-right",children:["Haven't registered yet?",Object(M.jsx)("a",{href:"/WeScribe_Frontend/register",children:" Sign Up"})]})]})})})]})})),Z=n(49),Y=n(50),$=n(54),ee=n(53),te=(n(87),function(e){Object($.a)(n,e);var t=Object(ee.a)(n);function n(){return Object(Z.a)(this,n),t.apply(this,arguments)}return Object(Y.a)(n,[{key:"componentDidMount",value:function(){var e=this.getExampleRef(),t=window.CodeMirror(document.getElementById("firepad-container"),{lineWrapping:!0}),n=window.Firepad.fromCodeMirror(e,t,{richTextToolbar:!0,richTextShortcuts:!0});n.on("ready",(function(){n.isHistoryEmpty()&&n.setHtml('<span style="font-size: 24px;">Welcome to<span style="color: red"> WeScribe!</span></span><br/><br/>Collaborative-editing made easy.\n')}))}},{key:"getExampleRef",value:function(){var e=window.firebase.database().ref(),t=window.location.hash.replace(/#/g,"");return t?e=e.child(t):(e=e.push(),window.location=window.location+"/#"+e.key),"undefined"!==typeof console&&console.log("Firebase data: ",e.toString()),e}},{key:"render",value:function(){return Object(M.jsx)("div",{children:Object(M.jsx)("div",{id:"firepad-container"})})}}]),n}(r.Component)),ne=(n(88),/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=|\?v=)([^#\&\?]*).*/);var re=function(e){var t=Object(r.useState)(""),n=Object(q.a)(t,2),a=n[0],c=n[1],i=Object(r.useState)({name:"https://www.youtube.com/watch?v=bmVKaAV_7-A",value:"https://youtube.com/embed/bmVKaAV_7-A"}),s=Object(q.a)(i,2),o=s[0],l=s[1],d=Object(r.useState)({value:"firepad"}),u=Object(q.a)(d,2);u[0],u[1],Object(r.useEffect)((function(){L.a.get("https://wescribe-backend.herokuapp.com/notes/").then((function(e){var t="/"+window.location.hash,n=e.data.filter((function(e){return e.boardID===t})),r=n[0].id,a=n[0].videoLink;c(r),""!==a&&b(a)})).catch((function(e){console.log(G(e))}))}),[]);var b=function(e){var t="";if("object"===typeof e?t=e.target.value:"string"===typeof e&&(t=e),void 0!=t||""!=t){var n=function(e){var t=ne,n=e.match(t);return n&&11==n[2].length?"https://www.youtube.com/embed/"+n[2]+"?autoplay=0":e}(t);l({name:t,value:n})}if(t.includes("zoom")){var r=document.getElementById("videoIframe");setTimeout((function(){r.width="200%"}),1e4),console.log("This is zoom url"),setTimeout((function(){r.width="100%"}),25e3)}};return Object(M.jsx)("div",{class:"outerBoard",children:Object(M.jsxs)("div",{class:"mainTrial",children:[Object(M.jsx)("a",{href:"/WeScribe_Frontend/",style:{color:"white"},children:"Home"}),Object(M.jsx)("div",{class:"d-flex justify-content-center",style:{marginTop:"10px"},children:Object(M.jsxs)("form",{className:"form-inline",children:[Object(M.jsx)("label",{className:"my-icon",style:{paddingInlineEnd:"15px",color:"white"},children:"Enter Video/Meeting URL:"}),Object(M.jsx)("input",{className:"form-control w-100 pl-2 rounded",type:"text",value:o.name,onChange:function(e){b(e),""!==a&&(e.preventDefault(),L.a.put("https://wescribe-backend.herokuapp.com/notes/details/"+a+"/",{videoLink:e.target.value},W.getState().isAuthenticated?{headers:{Authorization:"Token "+W.getState().token}}:null).then((function(e){})).catch((function(e){console.log(G(e))})))}})]})}),Object(M.jsxs)("div",{className:"row",children:[Object(M.jsx)("div",{className:"column",children:Object(M.jsx)("div",{className:"videoWrap",children:Object(M.jsx)("iframe",{id:"videoIframe",src:o.value,className:"video",frameBorder:"0",allow:"autoplay; encrypted-medial; gyroscope; picture-in-picture",allowFullScreen:"1",title:"video",width:"100%"})})}),Object(M.jsx)("div",{className:"column",children:Object(M.jsx)("main",{style:{maxHeight:"70vh",paddingTop:"1.3vw"},children:Object(M.jsx)("div",{className:"videoWrap",children:Object(M.jsx)(te,{})})})})]})]})})},ae=n(102),ce=n(101),ie=n(103),se=(n(89),n.p+"static/media/index.d66d80bb.svg");var oe=Object(s.b)((function(e){return{isAuthenticated:e.isAuthenticated,username:e.username}}),(function(e){return{logout:function(){return e(P())}}}))((function(e){var t=e.logout,n=e.isAuthenticated;return e.username,Object(M.jsx)(ae.a,{collapseOnSelect:!0,bg:"navbar",children:Object(M.jsxs)(ce.a,{children:[Object(M.jsx)(ae.a.Brand,{as:I.b,className:"nav-brand",to:"/WeScribe_Frontend/",children:Object(M.jsx)("img",{className:"navbar_logo",src:se})}),Object(M.jsx)(ae.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(M.jsx)(ae.a.Collapse,{id:"responsive-navbar-nav",children:Object(M.jsx)(ie.a,{className:"ml-auto",children:n?[Object(M.jsx)(ie.a.Link,{as:I.b,className:"nav-link",to:"/WeScribe_Frontend/notes",children:Object(M.jsx)("span",{children:"Notes"})},"3"),Object(M.jsx)(ie.a.Link,{as:I.b,className:"nav-link",to:"/WeScribe_Frontend/",onClick:t,children:Object(M.jsx)("span",{children:"Logout"})},"4")]:[Object(M.jsx)(ie.a.Link,{as:I.b,className:"nav-link",to:"/WeScribe_Frontend/register",children:Object(M.jsx)("span",{children:"Register"})},"1"),Object(M.jsx)(ie.a.Link,{as:I.b,className:"nav-link",to:"/WeScribe_Frontend/login",children:Object(M.jsx)("span",{children:"Login"})},"2")]})})]})})})),le=function(){return Object(M.jsxs)(V.c,{children:[Object(M.jsx)(V.a,{path:"/WeScribe_Frontend/board",component:re}),Object(M.jsxs)("div",{children:[Object(M.jsx)(oe,{}),Object(M.jsxs)(V.c,{children:[Object(M.jsx)(V.a,{exact:!0,path:"/WeScribe_Frontend/",component:J}),Object(M.jsx)(V.a,{exact:!0,path:"/WeScribe_Frontend/register",component:Q}),Object(M.jsx)(V.a,{exact:!0,path:"/WeScribe_Frontend/login",component:X})]})]})]})};n(96);var de=Object(V.f)(Object(s.b)((function(e){return{isAuthenticated:e.isAuthenticated,username:e.username}}),(function(e){return{logout:function(){return e(P())}}}))((function(e){return Object(M.jsx)("div",{className:"mainContainer",children:e.children})})));var ue=Object(s.b)(null,(function(e){return{onTryAutoSignup:function(){return e((function(e){if(void 0===W.getState().token)e(P());else{var t=new Date(localStorage.getItem("expirationDate"));t<=new Date?e(P()):e(z((t.getTime()-(new Date).getTime())/1e3))}}))}}}))((function(e){return Object(r.useEffect)((function(){e.onTryAutoSignup()})),Object(M.jsx)("div",{className:"App",children:Object(M.jsx)(I.a,{children:Object(M.jsx)(de,Object(x.a)(Object(x.a)({},e),{},{children:Object(M.jsx)(le,{})}))})})})),be=(n(97),Object(M.jsx)(s.a,{store:W,children:Object(M.jsx)(E.a,{loading:null,persistor:C,children:Object(M.jsx)(ue,{})})}));window.firebase.initializeApp({apiKey:"AIzaSyC1G8Qwmy-NNQcJHSH4zqcLNjVZSO7q5Ug",databaseURL:"https://hack36-3daf4-default-rtdb.firebaseio.com/"}),i.a.render(Object(M.jsx)(a.a.StrictMode,{children:be}),document.getElementById("root"))}},[[98,1,2]]]);
//# sourceMappingURL=main.ffbbfa0c.chunk.js.map